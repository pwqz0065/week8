CHIP DecoderSegment {
    IN in[4];
    OUT f;

    PARTS:

    Not(in=in[2], out=n2);
    Not(in=in[0], out=n0);

    And(a=in[3], b=in[2], out=t1);

    And(a=in[3], b=in[1], out=t2);

    And(a=n2, b=n0, out=t3);

    And(a=in[1], b=n0, out=t4);

    Or(a=t1, b=t2, out=o1);
    Or(a=t3, b=t4, out=o2);
    Or(a=o1, b=o2, out=f);
}